!function(t){"use strict"
function e(){return Date.now()}function a(t){return 0===Object.keys(t).length}function i(t){return document.getElementById(t)}function n(t){return JSON.stringify(t)}function s(t){return JSON.parse(n(t))}var r=t,h=function(t,e){this.src=t,e=e||document.createElement("div"),this.parent=e
try{var a=this.parent.cloneNode(!1)
a.innerHTML=this.src,this.node=a.firstChild}catch(i){return}this.right=function(t){try{t&&(this.parent=t),this.parent.appendChild(this.node)}catch(e){}},this.replace=function(t){var e=t
t instanceof h&&(e=t.node)
try{this.parent=t.parentNode,this.parent.replaceChild(this.node,e)}catch(a){}}}
r.SimpleAppStart="sta",r.SimpleAppFinish="fin",r.SimpleAppWillRender="wrd",r.SimpleAppDidRender="drd",r.SimpleAppRenderElement="rde",r.SimpleAppParseElementData="ped",r.SimpleAppStateIsUpdated="siu",String.prototype.hashCode=function(){var t,e,a,i=0
if(0===this.length)return i
for(t=0,a=this.length;a>t;t++)e=this.charCodeAt(t),i=(i<<5)-i+e,i|=0
return Math.abs(i)}
var o
o=function(t,o){this.version="1.1.5",this.aName=t,t=n(t).hashCode()
var l="_sj_"+t
if(this.name=t,r[l]=this,this.localStorageKey=l+"_data",this.container=null,this.state={},this.pState={},this.cnf={localStorageWrite:!0,localStorageRead:!0,partialRender:!0},"object"==typeof o)for(var p in o)this.cnf[p]=o[p]
this.callbacks={sta:{},fin:{},wrd:{},drd:{},rde:{},siu:{}},this.getCallback=function(t,e){return e?"function"==typeof this.callbacks[t][e]?this.callbacks[t][e]:void 0:this.callbacks[t]},this.on=function(t,e,a){"object"==typeof this.callbacks[t]&&"function"==typeof a&&(this.callbacks[t][e]=a)},this._f=function(t){var e=this.getCallback(t)
if("object"==typeof e)for(var a in e){var i=e[a]
"function"==typeof i&&i()}},this.updateState=function(t,e){var a,i,n
if("string"==typeof t)a=t,i=e,this.state[t]=e
else if("object"==typeof t&&"string"==typeof t.nodeName){n=t
var s=n.nodeName,r=n.type
switch("SELECT"==s&&(r="select"),a=n.dataset.name?n.dataset.name:n.name,i=n.value,r){case"select":case"text":case"radio":this.state[a]=i
break
case"checkbox":if(this.state[a]||(this.state[a]=[]),n.checked&&i.length>0)this.state[a].indexOf(i)<0&&this.state[a].push(i)
else{var h=this.state[a].indexOf(i)
h>=0&&this.state[a].splice(h,1)}break
case"button":case"form":break
default:this.state[a]=i}}this.store()
var o=this.data[a],l={}
n&&"object"==typeof n.dataset&&(l=n.dataset,"object"==typeof o&&"object"==typeof o.element&&l.index&&(o=o.element[l.index])),this.stateIsUpdated({name:a,value:i,element:n,dataset:l,state:this.state,data:o})},this.stateIsUpdated=function(t){var e=this.getCallback("siu",t.name)
return"function"==typeof e?e(t):t},this.htpl=function(t,e,a){a=a===!0
try{var i=t
for(var n in e)if(n.length>0){var s=new RegExp("{"+n+"}","g"),r=e[n]
i=i.replace(s,r)}return a!==!0&&(i=i.replace(/{[^<>}]+}/gi,"").replace(/{>([^}]+)}/gi,"{$1}")),i}catch(h){return""}},this.store=function(){this.cnf.localStorageWrite&&"object"==typeof r.localStorage&&r.localStorage.setItem(this.localStorageKey,n(this.state))},this.load=function(){if(this.cnf.localStorageRead&&"object"==typeof r.localStorage){var t=r.localStorage.getItem(this.localStorageKey)
if(!t)return
try{this.state=JSON.parse(t)}catch(e){}}},this.template={main:{},sub:{}},this.data={},this.pData={},this.els=function(t,e,a){if(a._style)return a._style
if(e){var i=n(e),s=n(a.value)
return i.indexOf(s)>=0?"selected":"default"}return"default"},this.eId=function(t){return l+"_el_"+t},this.getEvent=function(t){return t&&""!==t?"select"===t?"onchange":"form"===t?"onsubmit":"input"===t?"onkeyup":"onclick":void 0},this.parseElementData=function(t,e,a,i,n){a.name||(a.name=t)
var s=[],r={}
a||(a={}),n>0?(s.push('data-index="'+(n-1)+'"'),"select"!=i&&(a.id||(a.id=this.eId(t+"_"+n)))):a.id||(a.id=this.eId(t)),r.id=a.id
var h=this.getEvent(i)
"input"!=i||a.value||(a.value=e,s.push('data-name="'+t+'"'),s.push('name="'+t+'"'),s.push('data-state="'+e+'"')),a._e_&&(h="on"+a._e_)
var o=l+".updateState(this)"
"select"==i&n>0&&(h=null),h&&(r.act=o,s.push(h+'="'+o+'"'))
for(var p in a){var c=a[p]
"object"!=typeof c&&(p.indexOf("_")<0&&s.push(p+'="'+c+'"'),r[p]=c)}var f=this.template.sub[t]
if("object"==typeof f._sects)for(var d in f._sects){var u=[],v="attr-"+d,m="object"==typeof a[d]?a[d]:{},y=f._sects[d]
if("object"==typeof y){for(var b in y)m[b]=y[b]
if(y._type){var g=this.getEvent(y._type)
g&&u.push(g+'="'+o+'"')}y._action&&u.push('data-action="'+y._action+'"')}m._e_&&u.push("on"+m._e_+'="'+o+'"')
for(var _ in m)_.indexOf("_")<0?u.push(_+'="'+m[_]+'"'):r[_]=m[_]
u.push('data-name="'+t+'"'),u.push('name="'+t+'"'),n>0&&u.push('data-index="'+(n-1)+'"'),r[v]=u.join(" ")}return r.attr=s.join(" "),r},this.node=function(t){return i(this.eId(t))},this.style="default",this.render=function(t){if(e(),this._f("wrd"),!this.container)throw new Error("Invalid container specified")
var i=this.template.main[this.style],r={}
if(!i)throw new Error("Invalid master template for style: "+this.style)
if(t===!0&&(this.pData={}),!a(this.data)&&n(this.pData)!=n(this.data)){var h=a(this.pData)
for(var o in this.template.sub){var l=this.renderElement(o,h)
l&&(r[o]=l)}(h||!a(r))&&(this.container.innerHTML=this.htpl(i,r)),this.pState=s(this.state),this.pData=s(this.data),this._f("drd")}},this.renderElement=function(t,e){e=e===!0
var i=this.data[t]||{},r=this.state[t]||"",o=""
if("object"!=typeof this.template.sub[t]||a(i)){if(this.cnf.partialRender&&!e){var l=this.node(t)
if(l)return l.parentNode.removeChild(l),!1}return""}var p=this.getCallback("rde",t)
if("function"==typeof p)return p(r,i)
if(n(this.data[t])==n(this.pData[t]))return!1
var c=this.template.sub[t],f=(c._type,this)
if(c._wrapper){i.wrapper||(i.wrapper={})
var d=this.parseElementData(t,r,i.wrapper,c._type),u=i.element||[],v=0,m=this.pData[t],y=[],b=!1
m?(y=s(m.element),b=0===y.length):e=!0
var g=!1
if(u.map(function(a){v++
var i=s(a),l=f.els(t,r,i),p=f.template.sub[t][l],d=f.parseElementData(t,r,i,c._type,v)
if(p||(p=f.template.sub[t]["default"]),"select"==c._type)return void(o+=f.htpl(p,d))
if(!f.cnf.partialRender||e||b)o+=f.htpl(p,d)
else{var u=v-1,m=f.pData[t].element[u],y=f.data[t].element[u],_=null,S=f.node(t+"_"+v)
if(!g&&S&&(g=S.parentNode),n(m)==n(y))return
_=f.htpl(p,d)
var w
g&&(S?_&&(w=new h(_,g),w.replace(S)):g&&(w=new h(_,g),w.right()))}}),g&&y.length>u.length&&y.map(function(e,a){if(a>=v){var i=f.node(t+"_"+(a+1))
i&&g.removeChild(i)}}),!("string"==typeof o&&o.length>1||0===v))return!1
o=f.htpl(c._wrapper[0],d)+o+c._wrapper[1]}else{var _=this.els(t,r,i),S=this.template.sub[t][_],w=this.parseElementData(t,r,i,c._type)
S||(S=this.template.sub[t]["default"]),o=this.htpl(S,w)}if(this.template.sub[t]._sibling){var j=this.node(this.template.sub[t]._sibling)
if(j){var k=new h(o,j.parentNode)
return k.right(),!1}}if(!e&&this.cnf.partialRender===!0&&o){var E=this.node(t),D=null
if(E)return D=new h(o),D.replace(E),!1}return o},this.init=function(t,e){t&&(this.container=t),this.load(),e!==!1&&(this._f("sta"),this.render(),this._f("fin"))},this.toQuerystring=function(){var t=[]
for(var e in this.state){var a=this.state[e]
a&&t.push(e+"="+a)}return t.join("&")},this.d=function(t,e){return e?"object"==typeof this.data[t].element&&this.data[t].element[e]?this.data[t].element[e]:void 0:this.data[t]}}
var l={},p=function(t,e){return l[t]||(l[t]=new o(t,e)),l[t]}
r.SimpleApp=p,"undefined"!=typeof exports&&(exports.SimpleApp=p)}(this)
